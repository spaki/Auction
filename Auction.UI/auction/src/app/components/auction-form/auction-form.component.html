<div class="col-md-12">
    <h2>New Auction</h2>
    <h3 *ngIf="serverInfo">
        Server Date Time: {{ serverInfo.currentDateTime }}
        <br>
        Server Date Time UTC: {{ serverInfo.currentUTCDateTime }}
    </h3>

    <br>

    <form>
        <div class="form-group">
            <label for="title">Title</label>
            <input [(ngModel)]="auction.title" name="title" id="title" type="text" class="form-control">
        </div>
        <div class="form-group">
            <label for="title">Start</label>
            <input [(ngModel)]="auction.start" name="start" id="start" type="text" class="form-control">
        </div>
        <div class="form-group">
            <label for="available">Available</label>
            <input [(ngModel)]="auction.available" name="available" id="available" type="text" class="form-control">
        </div>

        <hr>
            <div class="col-md-12">
                <h4>Products</h4>        
                <div *ngFor="let auctionProduct of auction.auctionProducts; let i = index;">
                    <div class="form-group">
                        <label for="name">Product Name</label>
                        <input [(ngModel)]="auction.auctionProducts[i].product.name" name="auction.auctionProducts[{{i}}].product.name" type="text" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="description">Product Description</label>
                        <input [(ngModel)]="auction.auctionProducts[i].product.description" name="auction.auctionProducts[{{i}}].product.description" type="text" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="initialValue">Product Initial Value</label>
                        <input [(ngModel)]="auctionProduct.initialValue" name="auction.auctionProducts[{{i}}].initialValue" type="number" step="0.01" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="incrementValue">Product Increment Value</label>
                        <input [(ngModel)]="auction.auctionProducts[i].incrementValue" name="auction.auctionProducts[{{i}}].incrementValue" type="number" step="0.01" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="timeoutInMilliseconds">Product Timeout in Milliseconds</label>
                        <input [(ngModel)]="auction.auctionProducts[i].timeoutInMilliseconds" name="auction.auctionProducts[{{i}}].timeoutInMilliseconds" type="number" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="tickIntervalInMilliseconds">Product Tick Interval in Milliseconds</label>
                        <input [(ngModel)]="auction.auctionProducts[i].tickIntervalInMilliseconds" name="auction.auctionProducts[{{i}}].tickIntervalInMilliseconds" type="number" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="url">Product Image URL</label>
                        <input [(ngModel)]="auction.auctionProducts[i].product.pictures[0].url" name="auction.auctionProducts[{{i}}].product.pictures[0].url" type="text" class="form-control">
                    </div>
                    <div class="text-right">
                        <button type="button" class="btn btn-light" (click)="RemoveProduct(auctionProduct)">- Product</button>
                    </div>
                    <hr>
                </div>
                <div class="text-center">
                    <button type="button" class="btn btn-light" (click)="AddProduct()">+ Product</button>
                </div>
            </div>
        <hr>

        <button type="submit" class="btn btn-primary" (click)="Save()">Submit</button>
        &nbsp;
        <a type="submit" class="btn btn-outline-primary" [routerLink]="['']">Voltar</a>

        <p *ngIf="message" id="message" [className]="messageCssClass">{{ message }}</p>
    </form>

</div>